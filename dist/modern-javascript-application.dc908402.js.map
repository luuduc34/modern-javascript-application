{"version":3,"sources":["chart.js","api.js","index.js"],"names":["weatherDetailsHourly","value","add_chart","get_hour","substr","labels","i","list","dt_txt","config","type","data","datasets","label","backgroundColor","borderColor","Math","round","main","temp","options","responsive","ctx","document","getElementById","getContext","chartStatus","Chart","getChart","undefined","destroy","API_KEY","CLIENT_ID","wrapper","querySelector","requestApi","fetch","then","response","json","result","weatherDetails","requestApi_unsplash","UnsplashDetails","lat","lon","coord","api2","api3","innerHTML","name","weather","description","temp_min","temp_max","src","icon","console","log","weatherDetailsOneCall","img_bg","results","urls","regular","body","style","backgroundImage","backgroundSize","allDays","dayName_two","Date","daily","dt","getDay","dayName_thre","dayName_four","dayName_five","min","max","inputField","tempo","apisCall","history","val","visited","substring","length","addEventListener","e","key"],"mappings":"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","file":"modern-javascript-application.dc908402.js","sourceRoot":"..","sourcesContent":["function weatherDetailsHourly(value){\r\n    //console.log(value);\r\n   add_chart(value);\r\n}\r\n\r\nfunction get_hour(value){\r\n    let result = value.substr(11, 2) + \"h\";\r\n    return result;\r\n}\r\n\r\nfunction add_chart(value){\r\n    const labels = [];\r\n\r\n    for(let i = 0; i < 9; i++){\r\n        labels[i] = get_hour(value.list[i].dt_txt);\r\n    }\r\n    const data = {\r\n        labels: labels,\r\n        datasets: [{\r\n          label: 'Temperatures du jour sur 24 heures',\r\n          backgroundColor: 'rgb(61, 170, 248)',\r\n          borderColor: 'rgb(61, 170, 248)',\r\n          data: [Math.round(value.list[0].main.temp), Math.round(value.list[1].main.temp), Math.round(value.list[2].main.temp), Math.round(value.list[3].main.temp), Math.round(value.list[4].main.temp), Math.round(value.list[5].main.temp), Math.round(value.list[6].main.temp), Math.round(value.list[7].main.temp), Math.round(value.list[8].main.temp)],\r\n        }]\r\n    };\r\n    const config = {\r\n        type: 'line',\r\n        data: data,\r\n        //plugins: [plugin],\r\n        options: {responsive: true}\r\n    };\r\n    const ctx = document.getElementById('myChart').getContext('2d');\r\n    let chartStatus = Chart.getChart(\"myChart\");\r\n        if (chartStatus != undefined) {\r\n            chartStatus.destroy();\r\n        }\r\n    const myChart = new Chart(\r\n        ctx,\r\n        config\r\n    );       \r\n}\r\n\r\nexport { weatherDetailsHourly, get_hour, add_chart };","import { weatherDetailsHourly } from \"./chart.js\";\r\nconst API_KEY = '1a8f49efd80db8c189bb16e06cd70e63'; // For Openweather API\r\nconst CLIENT_ID = 'KiROWCmL9ZKZnoWjHWJlIdCP5jLw2f_2ziSpzcUcqIY'; // For Unsplash API\r\nconst wrapper = document.querySelector(\".wrapper\");\r\nfunction requestApi(value){ // return data from API call promise to weatheDetails function   \r\n    let api = `https://api.openweathermap.org/data/2.5/weather?q=${value}&appid=${API_KEY}&units=metric&lang=fr`;\r\n\r\n    fetch(api)\r\n        .then(response => response.json())\r\n        .then(result => weatherDetails(result));       \r\n}\r\n\r\nfunction requestApi_unsplash(value){ // return data from API call promise to UnsplashDetails function\r\n    let api_unsplash = `https://api.unsplash.com/search/photos?query=${value}&client_id=${CLIENT_ID}`;\r\n\r\n    fetch(api_unsplash)\r\n        .then(response => response.json())\r\n        .then(result => UnsplashDetails(result));\r\n}\r\n\r\nfunction weatherDetails(value){ // Get elements from API\r\n    const {lat, lon} = value.coord;\r\n    let api2 = `https://api.openweathermap.org/data/2.5/onecall?lat=${lat}&lon=${lon}&exclude=current,minutely&appid=${API_KEY}&units=metric&lang=fr`;\r\n    let api3 = `https://api.openweathermap.org/data/2.5/forecast?lat=${lat}&lon=${lon}&exclude=current,minutely&appid=${API_KEY}&units=metric&lang=fr`;\r\n    \r\n    wrapper.querySelector(\".location\").innerHTML = \"- \"+value.name+\" -\";\r\n    wrapper.querySelector(\".one .weather\").innerHTML = value.weather[0].description;\r\n    wrapper.querySelector(\".one .temp .numb\").innerHTML = Math.round(value.main.temp);\r\n    wrapper.querySelector(\".one .min .numb\").innerHTML = Math.round(value.main.temp_min);\r\n    wrapper.querySelector(\".one .max .numb\").innerHTML = Math.round(value.main.temp_max);\r\n    wrapper.querySelector(\".icon1\").src = `http://openweathermap.org/img/wn/${value.weather[0].icon}@2x.png`;\r\n    console.log(value);\r\n    // return data from API call promise to weatheDetails2 function      \r\n    fetch(api2)\r\n        .then(response => response.json())\r\n        .then(result => weatherDetailsOneCall(result)); \r\n        \r\n    fetch(api3)\r\n        .then(response => response.json())\r\n        .then(result => weatherDetailsHourly(result));\r\n}   \r\n\r\nfunction UnsplashDetails(value){\r\n    const img_bg = value.results[0].urls.regular;        \r\n    document.body.style.backgroundImage = `url(${img_bg})`;\r\n    document.body.style.backgroundSize = 'cover';        \r\n    console.log(value);\r\n}\r\n\r\nfunction weatherDetailsOneCall(value){ // Get elements from API\r\n        \r\n    const allDays= ['Dimanche', 'Lundi', 'Mardi', 'Mercredi', 'Jeudi', 'Vendredi', 'Samedi']; \r\n    const dayName_two = allDays[new Date(value.daily[1].dt * 1000).getDay()]; // It will give day index, and based on index we can get day name from the array.\r\n    const dayName_thre = allDays[new Date(value.daily[2].dt * 1000).getDay()];\r\n    const dayName_four = allDays[new Date(value.daily[3].dt * 1000).getDay()];\r\n    const dayName_five = allDays[new Date(value.daily[4].dt * 1000).getDay()];\r\n// D-day + 1 data        \r\n    wrapper.querySelector(\".day-two\").innerHTML =dayName_two;\r\n    document.querySelector(\".icon2\").src = `http://openweathermap.org/img/wn/${value.daily[1].weather[0].icon}.png`;\r\n    wrapper.querySelector(\".two .weather\").innerHTML = value.daily[1].weather[0].description;\r\n    wrapper.querySelector(\".two .min .numb\").innerHTML = Math.round(value.daily[1].temp.min);\r\n    wrapper.querySelector(\".two .max .numb\").innerHTML = Math.round(value.daily[1].temp.max);\r\n// D-day + 2 data\r\n    wrapper.querySelector(\".day-thre\").innerHTML =dayName_thre;\r\n    document.querySelector(\".icon3\").src = `http://openweathermap.org/img/wn/${value.daily[2].weather[0].icon}.png`;\r\n    wrapper.querySelector(\".thre .weather\").innerHTML = value.daily[2].weather[0].description;\r\n    wrapper.querySelector(\".thre .min .numb\").innerHTML = Math.round(value.daily[2].temp.min);\r\n    wrapper.querySelector(\".thre .max .numb\").innerHTML = Math.round(value.daily[2].temp.max);\r\n// D-day + 3 data        \r\n    wrapper.querySelector(\".day-four\").innerHTML =dayName_four;\r\n    document.querySelector(\".icon4\").src = `http://openweathermap.org/img/wn/${value.daily[3].weather[0].icon}.png`;\r\n    wrapper.querySelector(\".four .weather\").innerHTML = value.daily[3].weather[0].description;\r\n    wrapper.querySelector(\".four .min .numb\").innerHTML = Math.round(value.daily[3].temp.min);\r\n    wrapper.querySelector(\".four .max .numb\").innerHTML = Math.round(value.daily[3].temp.max);\r\n// D-day + 4 data        \r\n    wrapper.querySelector(\".day-five\").innerHTML =dayName_five;\r\n    document.querySelector(\".icon5\").src = `http://openweathermap.org/img/wn/${value.daily[4].weather[0].icon}.png`;\r\n    wrapper.querySelector(\".five .weather\").innerHTML = value.daily[4].weather[0].description;\r\n    wrapper.querySelector(\".five .min .numb\").innerHTML = Math.round(value.daily[4].temp.min);\r\n    wrapper.querySelector(\".five .max .numb\").innerHTML = Math.round(value.daily[4].temp.max);\r\n    console.log(value);\r\n}\r\n\r\nexport { requestApi, requestApi_unsplash };","import { weatherDetailsHourly, get_hour, add_chart } from \"./chart.js\";\r\nimport { requestApi, requestApi_unsplash } from \"./api.js\";\r\n\r\n\r\nconst wrapper = document.querySelector(\".wrapper\");\r\nconst inputField = wrapper.querySelector(\"input\");\r\n\r\nlet tempo = \"Historique : \";\r\n\r\napisCall('liege'); // Start with weather of Liege\r\n// Call requestApi and requestApi_unsplash when put value in field and press \"enter\"\r\ninputField.addEventListener(\"keyup\", e =>{\r\n    if(e.key == \"Enter\" && inputField.value !=\"\"){\r\n        apisCall(inputField.value);\r\n        history(inputField.value);               \r\n    }\r\n})\r\n// Call all API when give new city\r\nfunction apisCall(value){\r\n    requestApi(value);\r\n    requestApi_unsplash(value);\r\n}\r\n\r\nfunction history(val){  \r\n    tempo += \" \" + val + \" -\";\r\n    let visited = tempo.substring(0, tempo.length - 1);\r\n    wrapper.querySelector('.visited').innerHTML = visited;\r\n}\r\n        \r\n\r\n"]}